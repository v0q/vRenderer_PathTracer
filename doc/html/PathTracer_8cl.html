<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>vRenderer - Path tracer: cl/src/PathTracer.cl File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">vRenderer - Path tracer
   </div>
   <div id="projectbrief">AGSDT Assignment - Path tracer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0b9712b4d566c131b10613af70a8e558.html">cl</a></li><li class="navelem"><a class="el" href="dir_75c78556b1526982063269d6f34f6f9d.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">PathTracer.cl File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Device (OpenCL) implementation of the path tracer. As the implementation is pretty much the same as the Cuda one. The documentation for most everything can be found under the cuda docs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="PathTracer_8h_source.html">cl/include/PathTracer.h</a>&quot;</code><br/>
<code>#include &quot;cl/include/RayIntersection.h&quot;</code><br/>
<code>#include &quot;cl/include/Utilities.h&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8dc71902a3c956140d3533820b1ef731"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8dc71902a3c956140d3533820b1ef731"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BRDF_SAMPLING_RES_THETA_H</b>&#160;&#160;&#160;90</td></tr>
<tr class="separator:a8dc71902a3c956140d3533820b1ef731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91bb2b846851bbcfbf4d5e0040c867df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91bb2b846851bbcfbf4d5e0040c867df"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BRDF_SAMPLING_RES_THETA_D</b>&#160;&#160;&#160;90</td></tr>
<tr class="separator:a91bb2b846851bbcfbf4d5e0040c867df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ccfe1ed7a38e1147f3ede37fadc3cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa2ccfe1ed7a38e1147f3ede37fadc3cc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BRDF_SAMPLING_RES_PHI_D</b>&#160;&#160;&#160;360</td></tr>
<tr class="separator:aa2ccfe1ed7a38e1147f3ede37fadc3cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3f1b403789e38a95ccb2407c151be5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf3f1b403789e38a95ccb2407c151be5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RED_SCALE</b>&#160;&#160;&#160;(1.0/1500.0)</td></tr>
<tr class="separator:acf3f1b403789e38a95ccb2407c151be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcde58c7b09df0bb410fbabd1fddaf3c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adcde58c7b09df0bb410fbabd1fddaf3c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GREEN_SCALE</b>&#160;&#160;&#160;(1.15/1500.0)</td></tr>
<tr class="separator:adcde58c7b09df0bb410fbabd1fddaf3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4be50e26575571331b47f2df98916a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4be50e26575571331b47f2df98916a5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BLUE_SCALE</b>&#160;&#160;&#160;(1.66/1500.0)</td></tr>
<tr class="separator:ab4be50e26575571331b47f2df98916a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0f62dc685261380c888f930d3f04b813"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structRay.html">Ray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PathTracer_8cl.html#a0f62dc685261380c888f930d3f04b813">createRay</a> (float4 _o, float4 _d)</td></tr>
<tr class="memdesc:a0f62dc685261380c888f930d3f04b813"><td class="mdescLeft">&#160;</td><td class="mdescRight">createRay Builds a ray given an origin and a direction  <a href="#a0f62dc685261380c888f930d3f04b813">More...</a><br/></td></tr>
<tr class="separator:a0f62dc685261380c888f930d3f04b813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96d1b38c698388294674aa643d3d26b2"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PathTracer_8cl.html#a96d1b38c698388294674aa643d3d26b2">floatAsInt</a> (const float _a)</td></tr>
<tr class="memdesc:a96d1b38c698388294674aa643d3d26b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">floatAsInt Returns the bit-wise equal value as integer  <a href="#a96d1b38c698388294674aa643d3d26b2">More...</a><br/></td></tr>
<tr class="separator:a96d1b38c698388294674aa643d3d26b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a329fb07255626c74d97267a19b2e6dce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PathTracer_8cl.html#a329fb07255626c74d97267a19b2e6dce">intersectScene</a> (const <a class="el" href="structRay.html">Ray</a> *_ray, __global const float4 *_vertices, __global const float4 *_normals, __global const float4 *_tangents, __global const float4 *normalMapvhNodes, __global const float2 *_uvs, __read_only image2d_t _diffuse, __read_only image2d_t _normal, __read_only image2d_t _specular, bool _hasDiffuseMap, bool _hasNormalMap, bool _hasSpecularMap, bool _useCornellBox, bool _useExampleSphere, bool _meshInitialised, bool _viewBRDF, <a class="el" href="structvHitData.html">vHitData</a> *_hitData)</td></tr>
<tr class="memdesc:a329fb07255626c74d97267a19b2e6dce"><td class="mdescLeft">&#160;</td><td class="mdescRight">intersectScene Check the intersections of a given ray with the scene, checks for the intersections with the triangle meshes and spheres  <a href="#a329fb07255626c74d97267a19b2e6dce">More...</a><br/></td></tr>
<tr class="separator:a329fb07255626c74d97267a19b2e6dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06667f67750cd42ea614e89817657f79"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06667f67750cd42ea614e89817657f79"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>phi_diff_index</b> (float phi_diff)</td></tr>
<tr class="separator:a06667f67750cd42ea614e89817657f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee1dde35c1c9bb558ce06da59dd34b7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee1dde35c1c9bb558ce06da59dd34b7e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>theta_half_index</b> (float theta_half)</td></tr>
<tr class="separator:aee1dde35c1c9bb558ce06da59dd34b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e99c424c0d5f3621b36dad4549c95b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13e99c424c0d5f3621b36dad4549c95b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>theta_diff_index</b> (float theta_diff)</td></tr>
<tr class="separator:a13e99c424c0d5f3621b36dad4549c95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fbc21ce9eec28e072932dba078d3523"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2fbc21ce9eec28e072932dba078d3523"></a>
float4&#160;</td><td class="memItemRight" valign="bottom"><b>lookupBRDF</b> (__global const float *normalMaprdf, const float4 _reflectedDir, const float4 _currentDir, const float4 _normal, const float4 _tangent)</td></tr>
<tr class="separator:a2fbc21ce9eec28e072932dba078d3523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5c7ab05243deb2bd02999b5ad1d716"><td class="memItemLeft" align="right" valign="top">float4&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PathTracer_8cl.html#a0f5c7ab05243deb2bd02999b5ad1d716">trace</a> (const <a class="el" href="structRay.html">Ray</a> *_camray, __global const float4 *_vertices, __global const float4 *_normals, __global const float4 *_tangents, __global const float4 *normalMapvhNodes, __global const float2 *_uvs, __read_only image2d_t _hdr, __read_only image2d_t _diffuse, __read_only image2d_t _normal, __read_only image2d_t _specular, float _fresnelPow, float _fresnelCoef, bool _hasDiffuseMap, bool _hasNormalMap, bool _hasSpecularMap, bool _useCornellBox, bool _useExampleSphere, bool _meshInitialised, bool _viewBRDF, bool _hasBRDF, __global const float *normalMaprdf, unsigned int *_seed0, unsigned int *_seed1)</td></tr>
<tr class="memdesc:a0f5c7ab05243deb2bd02999b5ad1d716"><td class="mdescLeft">&#160;</td><td class="mdescRight">trace Performs ray bounces, checks for the intersections and does colour accumulation calculations based on the emission and colour data from the intersections  <a href="#a0f5c7ab05243deb2bd02999b5ad1d716">More...</a><br/></td></tr>
<tr class="separator:a0f5c7ab05243deb2bd02999b5ad1d716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa38e4d4f2454ce31644167af3a6b1483"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa38e4d4f2454ce31644167af3a6b1483"></a>
__kernel void&#160;</td><td class="memItemRight" valign="bottom"><b>render</b> (__write_only image2d_t _texture, __global const float4 *_vertices, __global const float4 *_normals, __global const float4 *_tangents, __global const float4 *normalMapvhNodes, __global const float2 *_uvs, __global const float *normalMaprdf, __global float4 *_colors, __read_only image2d_t _hdr, __read_only image2d_t _diffuse, __read_only image2d_t _normal, __read_only image2d_t _specular, float _fresnelPow, float _fresnelCoef, unsigned int _hasDiffuseMap, unsigned int _hasNormalMap, unsigned int _hasSpecularMap, unsigned int _useCornellBox, unsigned int _useExampleSphere, unsigned int _meshInitialised, unsigned int _viewBRDF, unsigned int _hasBRDF, <a class="el" href="structvCamera.html">vCamera</a> _cam, unsigned int _w, unsigned int _h, unsigned int _frame, unsigned int _time)</td></tr>
<tr class="separator:aa38e4d4f2454ce31644167af3a6b1483"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4058774024cb25b39c7ce3425b656479"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4058774024cb25b39c7ce3425b656479"></a>
__constant float&#160;</td><td class="memItemRight" valign="bottom"><b>invGamma</b> = 1.f/2.2f</td></tr>
<tr class="separator:a4058774024cb25b39c7ce3425b656479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3983269547766d6b0f419bc9e087b9de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3983269547766d6b0f419bc9e087b9de"></a>
__constant float&#160;</td><td class="memItemRight" valign="bottom"><b>invSamps</b> = 1.f/2.f</td></tr>
<tr class="separator:a3983269547766d6b0f419bc9e087b9de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f691129a0710a068d80cb38d668277"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54f691129a0710a068d80cb38d668277"></a>
__constant unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>samps</b> = 2</td></tr>
<tr class="separator:a54f691129a0710a068d80cb38d668277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca5b8ab7e4ead122457254e2678c4f7e"><td class="memItemLeft" align="right" valign="top">__constant <a class="el" href="structSphere.html">Sphere</a>&#160;</td><td class="memItemRight" valign="bottom"><b>spheres</b> []</td></tr>
<tr class="separator:aca5b8ab7e4ead122457254e2678c4f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f3f434b7447198473191c794da0659"><td class="memItemLeft" align="right" valign="top">__constant <a class="el" href="structSphere.html">Sphere</a>&#160;</td><td class="memItemRight" valign="bottom"><b>cornellBox</b> []</td></tr>
<tr class="separator:a31f3f434b7447198473191c794da0659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5f24e46e2b92034a831fb57647afc4b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae5f24e46e2b92034a831fb57647afc4b"></a>
__constant <a class="el" href="structSphere.html">Sphere</a>&#160;</td><td class="memItemRight" valign="bottom"><b>exampleSphere</b> = { 10.f, { 0.f, 0.f, 0.f, 0.f },{ 0.f, 0.f, 0.f, 0.f }, { 1.f, 1.f, 1.f, 0.f }, DIFF }</td></tr>
<tr class="separator:ae5f24e46e2b92034a831fb57647afc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Device (OpenCL) implementation of the path tracer. As the implementation is pretty much the same as the Cuda one. The documentation for most everything can be found under the cuda docs. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0f62dc685261380c888f930d3f04b813"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structRay.html">Ray</a> createRay </td>
          <td>(</td>
          <td class="paramtype">float4&#160;</td>
          <td class="paramname"><em>_o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float4&#160;</td>
          <td class="paramname"><em>_d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>createRay Builds a ray given an origin and a direction </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_o</td><td>Origin of the ray </td></tr>
    <tr><td class="paramname">_d</td><td>Direction of the ray </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Resulting ray </dd></dl>

</div>
</div>
<a class="anchor" id="a96d1b38c698388294674aa643d3d26b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int floatAsInt </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>_a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>floatAsInt Returns the bit-wise equal value as integer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_a</td><td>Float to conver </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bit-wise equal value as an integer </dd></dl>

</div>
</div>
<a class="anchor" id="a329fb07255626c74d97267a19b2e6dce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool intersectScene </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structRay.html">Ray</a> *&#160;</td>
          <td class="paramname"><em>_ray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float4 *&#160;</td>
          <td class="paramname"><em>_vertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float4 *&#160;</td>
          <td class="paramname"><em>_normals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float4 *&#160;</td>
          <td class="paramname"><em>_tangents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float4 *&#160;</td>
          <td class="paramname"><em>_bvhNodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float2 *&#160;</td>
          <td class="paramname"><em>_uvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__read_only image2d_t&#160;</td>
          <td class="paramname"><em>_diffuse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__read_only image2d_t&#160;</td>
          <td class="paramname"><em>_normal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__read_only image2d_t&#160;</td>
          <td class="paramname"><em>_specular</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_hasDiffuseMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_hasNormalMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_hasSpecularMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_useCornellBox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_useExampleSphere</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_meshInitialised</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_viewBRDF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvHitData.html">vHitData</a> *&#160;</td>
          <td class="paramname"><em>_hitData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>intersectScene Check the intersections of a given ray with the scene, checks for the intersections with the triangle meshes and spheres </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_ray</td><td><a class="el" href="structRay.html" title="Ray Simple structure for a ray. ">Ray</a> to check intersections against </td></tr>
    <tr><td class="paramname">_vertices</td><td>Vertices of a triangle mesh </td></tr>
    <tr><td class="paramname">_normals</td><td>Normals of a triangle mesh </td></tr>
    <tr><td class="paramname">_tangents</td><td>Tangents of a triangle mesh </td></tr>
    <tr><td class="paramname">_bvhData</td><td><a class="el" href="classSBVH.html" title="The SBVH class The class builds the acceleration structure when given a vector of triangles and verti...">SBVH</a> structure </td></tr>
    <tr><td class="paramname">_uvs</td><td>UVs of a triangle mesh </td></tr>
    <tr><td class="paramname">_diffuse</td><td>Diffuse texture </td></tr>
    <tr><td class="paramname">_normal</td><td>Normal texture </td></tr>
    <tr><td class="paramname">_specular</td><td>Specular texture </td></tr>
    <tr><td class="paramname">_hasDiffuseMap</td><td>Does diffuse texture exist? </td></tr>
    <tr><td class="paramname">_hasNormalMap</td><td>Does normal texture exist? </td></tr>
    <tr><td class="paramname">_hasSpecularMap</td><td>Does specular texture exist? </td></tr>
    <tr><td class="paramname">_useCornellBox</td><td>Should cornell box or HDRI environment be used </td></tr>
    <tr><td class="paramname">_useExampleSphere</td><td>Should the example sphere be used </td></tr>
    <tr><td class="paramname">_meshInitialised</td><td>Has a mesh been initialised </td></tr>
    <tr><td class="paramname">_viewBRDF</td><td>Should BRDFs be used </td></tr>
    <tr><td class="paramname">_hitData</td><td>Structure to store the hit results to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if an intersection was found </dd></dl>

</div>
</div>
<a class="anchor" id="a0f5c7ab05243deb2bd02999b5ad1d716"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float4 trace </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structRay.html">Ray</a> *&#160;</td>
          <td class="paramname"><em>_camray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float4 *&#160;</td>
          <td class="paramname"><em>_vertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float4 *&#160;</td>
          <td class="paramname"><em>_normals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float4 *&#160;</td>
          <td class="paramname"><em>_tangents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float4 *&#160;</td>
          <td class="paramname"><em>_bvhNodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float2 *&#160;</td>
          <td class="paramname"><em>_uvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__read_only image2d_t&#160;</td>
          <td class="paramname"><em>_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__read_only image2d_t&#160;</td>
          <td class="paramname"><em>_diffuse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__read_only image2d_t&#160;</td>
          <td class="paramname"><em>_normal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__read_only image2d_t&#160;</td>
          <td class="paramname"><em>_specular</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>_fresnelPow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>_fresnelCoef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_hasDiffuseMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_hasNormalMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_hasSpecularMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_useCornellBox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_useExampleSphere</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_meshInitialised</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_viewBRDF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_hasBRDF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__global const float *&#160;</td>
          <td class="paramname"><em>_brdf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>_seed0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>_seed1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>trace Performs ray bounces, checks for the intersections and does colour accumulation calculations based on the emission and colour data from the intersections </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_camray</td><td>Initial ray for the trace </td></tr>
    <tr><td class="paramname">_vertices</td><td>Vertices of a triangle mesh </td></tr>
    <tr><td class="paramname">_normals</td><td>Normals of a triangle mesh </td></tr>
    <tr><td class="paramname">_tangents</td><td>Tangents of a triangle mesh </td></tr>
    <tr><td class="paramname">_bvhNodes</td><td><a class="el" href="classSBVH.html" title="The SBVH class The class builds the acceleration structure when given a vector of triangles and verti...">SBVH</a> structure </td></tr>
    <tr><td class="paramname">_uvs</td><td>UVs of a triangle mesh </td></tr>
    <tr><td class="paramname">_hdr</td><td>HDRI map </td></tr>
    <tr><td class="paramname">_diffuse</td><td>Diffuse texture </td></tr>
    <tr><td class="paramname">_normal</td><td>Normal texture </td></tr>
    <tr><td class="paramname">_specular</td><td>Specular texture </td></tr>
    <tr><td class="paramname">_fresnelPow</td><td>Fresnel power </td></tr>
    <tr><td class="paramname">_fresnelCoef</td><td>Fresnel coefficient </td></tr>
    <tr><td class="paramname">_hasDiffuseMap</td><td>Does diffuse texture exist? </td></tr>
    <tr><td class="paramname">_hasNormalMap</td><td>Does normal texture exist? </td></tr>
    <tr><td class="paramname">_hasSpecularMap</td><td>Does specular texture exist? </td></tr>
    <tr><td class="paramname">_useCornellBox</td><td>Should cornell box or HDRI environment be used </td></tr>
    <tr><td class="paramname">_useExampleSphere</td><td>Should the example sphere be used </td></tr>
    <tr><td class="paramname">_meshInitialised</td><td>Has a mesh been initialised </td></tr>
    <tr><td class="paramname">_viewBRDF</td><td>Should BRDFs be used </td></tr>
    <tr><td class="paramname">_hasBRDF</td><td>Does BRDF table exist </td></tr>
    <tr><td class="paramname">_brdf</td><td>BRDF table </td></tr>
    <tr><td class="paramname">_seed0</td><td>First initial seed for rng </td></tr>
    <tr><td class="paramname">_seed1</td><td>Second initial seed for rng </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a31f3f434b7447198473191c794da0659"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__constant <a class="el" href="structSphere.html">Sphere</a> cornellBox[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    { 160.f, { 0.f, 160.f + 49.f, 0.f, 0.f }, { 4.f, 3.6f, 3.2f, 0.f }, { 0.f, 0.f, 0.f, 0.f }, DIFF }, </div>
<div class="line">    { 1e5f, { 1e5f + 50.f, 0.f, 0.f, 0.f }, { 0.075f, 0.025f, 0.025f, 0.f }, { 0.75f, 0.25f, 0.25f, 0.f }, DIFF }, </div>
<div class="line">    { 1e5f, { -1e5f - 50.f, 0.f, 0.f, 0.f }, { 0.025f, 0.075f, 0.025f, 0.f }, { 0.25f, 0.75f, 0.25f, 0.f }, DIFF }, </div>
<div class="line">    { 1e5f, { 0.f, 0.f, -1e5f - 100.f, 0.f }, { 0.f, 0.f, 0.f, 0.f }, { 1.f, 1.f, 1.f, 0.f }, DIFF }, </div>
<div class="line">    { 1e5f, { 0.f, 1e5f + 50.f, 0.f, 0.f }, { 0.f, 0.f, 0.f, 0.f }, { 1.f, 1.f, 1.f, 0.f }, DIFF }, </div>
<div class="line">    { 1e5f, { 0.f, -1e5f - 50.f, 0.f, 0.f }, { 0.f, 0.f, 0.f, 0.f }, { 1.f, 1.f, 1.f, 0.f }, DIFF } </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca5b8ab7e4ead122457254e2678c4f7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__constant <a class="el" href="structSphere.html">Sphere</a> spheres[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    { 3.5f, { 15.f, 0.f, 15.f, 0.f }, { 0.f, 0.f, 0.f, 0.f }, { 0.f, 0.f, 0.f, 0.f }, SPEC }, </div>
<div class="line">    { 3.5f, { 25.f, 0.f, 15.f, 0.f }, { 0.f, 0.f, 0.f, 0.f }, { 1.f, 1.f, 1.f, 0.f }, DIFF }, </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 4 2017 21:51:09 for vRenderer - Path tracer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
